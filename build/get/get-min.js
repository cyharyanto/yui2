YAHOO.util.Get=function(){var M={},K=0,R=0,L=false,N=YAHOO.env.ua,S=YAHOO.lang,Q,D,E,I=function(W,T,X){var U=X||window,Y=U.document,Z=Y.createElement(W),V;for(V in T){if(T.hasOwnProperty(V)){Z.setAttribute(V,T[V]);}}return Z;},H=function(U,V,T){var W={id:"yui__dyn_"+(R++),type:"text/css",rel:"stylesheet",href:U};if(T){S.augmentObject(W,T);}return I("link",W,V);},P=function(U,V,T){var W={id:"yui__dyn_"+(R++),type:"text/javascript",src:U};if(T){S.augmentObject(W,T);}return I("script",W,V);},A=function(T,U){return{tId:T.tId,win:T.win,data:T.data,nodes:T.nodes,msg:U,purge:function(){D(this.tId);}};},B=function(T,W){var U=M[W],V=(S.isString(T))?U.win.document.getElementById(T):T;if(!V){Q(W,"target node not found: "+T);}return V;},C=function(W){var U=M[W],V,T;U.finished=true;if(U.aborted){V="transaction "+W+" was aborted";Q(W,V);return;}if(U.onSuccess){T=U.scope||U.win;U.onSuccess.call(T,A(U));}},O=function(V){var U=M[V],T;if(U.onTimeout){T=U.scope||U;U.onTimeout.call(T,A(U));}},F=function(V,Z){var U=M[V],c=U.win,b=c.document,a=b.getElementsByTagName("head")[0],W,X,T,e,Y;if(U.timer){U.timer.cancel();}if(U.aborted){X="transaction "+V+" was aborted";Q(V,X);return;}if(Z){U.url.shift();if(U.varName){U.varName.shift();}}else{U.url=(S.isString(U.url))?[U.url]:U.url;if(U.varName){U.varName=(S.isString(U.varName))?[U.varName]:U.varName;}}if(U.url.length===0){if(U.type==="script"&&N.webkit&&N.webkit<420&&!U.finalpass&&!U.varName){Y=P(null,U.win,U.attributes);Y.innerHTML='YAHOO.util.Get._finalize("'+V+'");';U.nodes.push(Y);a.appendChild(Y);}else{C(V);}return;}T=U.url[0];if(!T){U.url.shift();return F(V);}if(U.timeout){U.timer=S.later(U.timeout,U,O,V);}if(U.type==="script"){W=P(T,c,U.attributes);}else{W=H(T,c,U.attributes);}E(U.type,W,V,T,c,U.url.length);U.nodes.push(W);if(U.insertBefore){e=B(U.insertBefore,V);if(e){e.parentNode.insertBefore(W,e);}}else{a.appendChild(W);}if((N.webkit||N.gecko)&&U.type==="css"){F(V,T);}},J=function(){if(L){return;}L=true;var T,U;for(T in M){if(M.hasOwnProperty(T)){U=M[T];if(U.autopurge&&U.finished){D(U.tId);delete M[T];}}}L=false;},G=function(U,T,V){var X="q"+(K++),W;V=V||{};if(K%YAHOO.util.Get.PURGE_THRESH===0){J();}M[X]=S.merge(V,{tId:X,type:U,url:T,finished:false,aborted:false,nodes:[]});W=M[X];W.win=W.win||window;W.scope=W.scope||W.win;W.autopurge=("autopurge" in W)?W.autopurge:(U==="script")?true:false;W.attributes=W.attributes||{};W.attributes.charset=V.charset||W.attributes.charset||"utf-8";S.later(0,W,F,X);return{tId:X};};E=function(j,Y,W,U,d,e,h){var g=h||F,b,T,k,V,m,Z,c,X;if(N.ie){Y.onreadystatechange=function(){b=this.readyState;if("loaded"===b||"complete"===b){Y.onreadystatechange=null;g(W,U);}};}else{if(N.webkit){if(j==="script"){if(N.webkit>=420){Y.addEventListener("load",function(){g(W,U);});}else{T=M[W];if(T.varName){V=YAHOO.util.Get.POLL_FREQ;T.maxattempts=YAHOO.util.Get.TIMEOUT/V;T.attempts=0;T._cache=T.varName[0].split(".");T.timer=S.later(V,T,function(a){k=this._cache;Z=k.length;m=this.win;for(c=0;c<Z;c=c+1){m=m[k[c]];if(!m){this.attempts++;if(this.attempts++>this.maxattempts){X="Over retry limit, giving up";T.timer.cancel();Q(W,X);}else{}return;}}T.timer.cancel();g(W,U);},null,true);}else{S.later(YAHOO.util.Get.POLL_FREQ,null,g,[W,U]);}}}}else{Y.onload=function(){g(W,U);};}}};Q=function(W,V){var U=M[W],T;if(U.onFailure){T=U.scope||U.win;U.onFailure.call(T,A(U,V));}};D=function(Z){if(M[Z]){var T=M[Z],U=T.nodes,X=U.length,c=T.win.document,a=c.getElementsByTagName("head")[0],V,Y,W,b;if(T.insertBefore){V=B(T.insertBefore,Z);if(V){a=V.parentNode;}}for(Y=0;Y<X;Y=Y+1){W=U[Y];if(W.clearAttributes){W.clearAttributes();}else{for(b in W){if(W.hasOwnProperty(b)){delete W[b];}}}a.removeChild(W);}T.nodes=[];}};return{POLL_FREQ:10,PURGE_THRESH:20,TIMEOUT:2000,_finalize:function(T){S.later(0,null,C,T);},abort:function(U){var V=(S.isString(U))?U:U.tId,T=M[V];if(T){T.aborted=true;}},script:function(T,U){return G("script",T,U);},css:function(T,U){return G("css",T,U);}};}();YAHOO.register("get",YAHOO.util.Get,{version:"@VERSION@",build:"@BUILD@"});